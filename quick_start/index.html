<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Tiago Almeida (tiagomeloalmeida@ua.pt)" /><link rel="canonical" href="https://ieeta-pt.github.io/HPC-guides/quick_start/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Quick Start - Pleiades - IEETA cluster</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Quick Start";
        var mkdocs_page_input_path = "quick_start.md";
        var mkdocs_page_url = "/HPC-guides/quick_start/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Pleiades - IEETA cluster
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../how_to_access/">How to Access</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Quick Start</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#1-access-ieeta-cluster-pleiades">1. Access IEETA cluster (Pleiades)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#2-prepare-your-software-environment">2. Prepare your software environment</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#3-create-your-slurm-job-script">3. Create your SLURM job script</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#4-submit-the-job">4. Submit the job</a>
    </li>
    </ul>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Detailed Material</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../detail_material/nodes/">Cluster Nodes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../detail_material/software_packages/">Software packages</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../detail_material/job_management/">Job management</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../detail_material/account_management/">Account management</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Deep Learning/CUDA (GPU) Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../examples/dl/transformers/">Transformers example</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../examples/dl/cuda/">Cuda example</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../examples/dl/mnist/">MNIST example</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Scientific Computing (CPU) Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../examples/sc/dna/">DNA sequencing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../examples/sc/r/">R</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Pleiades - IEETA cluster</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Quick Start</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="quick-start">Quick start</h1>
<p>In this page you can find a quick start guide on how to use IEETA cluster (Pleiades). </p>
<h2 id="1-access-ieeta-cluster-pleiades">1. Access IEETA cluster (Pleiades)</h2>
<p>Access the cluster via SSH using the credentials provided to you by email. If you do not have access yet, please refer to the <a href="../how_to_access/">How to Access</a> page.</p>
<pre><code class="language-bash">$ ssh user@pleiades.ieeta.pt
</code></pre>
<p>By default, upon logging in, you will land on our <strong>login</strong> node in your home directory, which is located at <code>/data/home</code>. This is a network storage partition visible to all cluster nodes.</p>
<p>The <strong>login</strong> node is where you should prepare your code in order to submit jobs to run on the <strong>worker</strong> nodes of the cluster. The worker nodes are equipped with powerful resources. Currently, we have:</p>
<ul>
<li><strong>CPU nodes</strong>: Nodes with a high amount of RAM and faster CPUs. <em>Currently not added to the cluster yet</em></li>
<li><strong>GPU nodes</strong>: Nodes equipped with GPUs and more modest CPU/RAM configurations.</li>
</ul>
<p>For more information about each node check the <a href="../detail_material/nodes/">nodes page</a>.</p>
<h2 id="2-prepare-your-software-environment">2. Prepare your software environment</h2>
<p>The next step is to prepare your environment to run/build your application. We recommend using a virtual environment so that you can install any package locally. First, load the Python module.</p>
<pre><code class="language-bash">$ module load python
</code></pre>
<p>Then create and activate your virtual environment.</p>
<pre><code class="language-bash">$ python -m venv virtual-venv
$ source virtual-venv/bin/activate
</code></pre>
<p>You can then install your package dependencies with pip.</p>
<pre><code class="language-bash">(virtual-venv)$ pip install --upgrade pip
(virtual-venv)$ pip install torch transformers
</code></pre>
<h2 id="3-create-your-slurm-job-script">3. Create your SLURM job script</h2>
<p>After setting up your runtime environment, you should create a SLURM job script to submit your job. For example:</p>
<pre><code class="language-bash">#!/bin/bash
#SBATCH --job-name=trainer                # create a short name for your job
#SBATCH --output=&quot;trainer-%j.out&quot;         # %j will be replaced by the slurm jobID
#SBATCH --nodes=1                         # node count
#SBATCH --ntasks=1                        # total number of tasks across all nodes
#SBATCH --cpus-per-task=2                 # cpu-cores per task (&gt;1 if multi-threaded tasks)
#SBATCH --gres=gpu:1                      # number of gpus per node
#SBATCH --mem=4G                          # Total amount of RAM requested

source /virtual-venv/bin/activate # If you have your venv activated when you submit the job, then you do not need to activate/deactivate

python your_trainer_script.py

deactivate
</code></pre>
<p>The script is made of two parts:
1. Specification of the resources needed and some job information;
2. Comands that will be executed on the destination node.</p>
<p>As an example, in the first part of the script, we define the job name, the output file and the requested resources (1 GPU, 2 CPUs and 4GB RAM). Then, in the second part, we define the tasks of the job.</p>
<p>By default since no partition was defined the job will run under the default partitaion that in this cluster is the gpu partition, you can check which partitions and nodes are available with:</p>
<pre><code class="language-bash">  $ sinfo
</code></pre>
<h2 id="4-submit-the-job">4. Submit the job</h2>
<p>To submit the job, you should run the following command:</p>
<pre><code class="language-bash">$ sbatch script_trainer.sh
Submitted batch job 144
</code></pre>
<p>You can check the job status using the following command:</p>
<pre><code class="language-bash">$ squeue
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../how_to_access/" class="btn btn-neutral float-left" title="How to Access"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../detail_material/nodes/" class="btn btn-neutral float-right" title="Cluster Nodes">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright 2024, Pelouro de Infraestrutura - IEETA UA.</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../how_to_access/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../detail_material/nodes/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
